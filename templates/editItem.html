<!------------------------------------------------------------------------------------------------------------------------------------>
<!--	                                                                                                                            -->
<!--	The editItem page is shown for an authenticated user who visits the site. Flashed messages, if any, are                     --><!--    shown. Then the user fills in and submits a form where item title, description, and category might have been edited.        -->
<!--	                                                                                                                            -->
<!------------------------------------------------------------------------------------------------------------------------------------>
{% extends "main.html" %}
{% block content %}
{% include "header.html" %}
	<div class="row hero-image">
		<div class="col-md-1"></div>
		<div class="col-md-11 padding-none">
			<h1>Catalog App</h1>
		</div>
	</div>

	<div class = 'flash'>
		{% with messages = get_flashed_messages() %}
      		{% if messages %}
        		<ul>
        			{% for message in messages %}
            			<li> {{ message }} </li>
        			{% endfor %}
        		</ul>
        	{% endif %}
    	{% endwith %}

	</div>
	<div class="row">
		<div class="col-md-6 col-md-offset-1 padding-top">
			<h2>Edit Item</h2>
		</div>
	</div>
	<div class="row">
		<div class="col-md-6 col-md-offset-1 padding-top">
			<form action="#" method = "post">
					<label for="title">Title: </label>
					<input type ="text" maxlength="80" name="title" value="{{item.title}}" readonly><br>
					<label for="description" class="padding-top">Description: </label><br>
					<!-- textarea does not follow indentation because otherwise the placeholder is not shown.
					     See https://stackoverflow.com/questions/10186913/html5-textarea-placeholder-not-appearing -->
		<textarea maxlength="250" rows="3" cols="80" name="description">{{item.description}}</textarea>
					<br>
					<label for="category" class="padding-top">Category: </label>
					<select name="category">
						{% for category in categories %}
            				<option value="{{category.name}}" {% if category.name == item.category.name %}selected{% endif %}>{{category.name}}</option>
        				{% endfor %}
        			</select>
        			<br><br><br>
					<button type="submit" class="btn btn-default" id="submit">
					<span class="glyphicon glyphicon-edit" aria-hidden="true"></span>Edit</button>
			</form>
		</div>
	</div>
{% endblock %}

